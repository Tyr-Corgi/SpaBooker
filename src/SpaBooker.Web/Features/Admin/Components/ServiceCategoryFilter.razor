@* Service Category Filter Component - Filter services by category *@

<div class="card mb-4">
    <div class="card-body">
        <div class="d-flex align-items-center gap-2 flex-wrap">
            <strong class="text-muted me-2">Filter by Category:</strong>
            @foreach (var category in Categories.OrderBy(c => c))
            {
                <div class="form-check form-check-inline">
                    <input class="form-check-input" 
                           type="checkbox" 
                           id="cat-@category"
                           checked="@SelectedCategories.Contains(category)"
                           @onchange="@((e) => HandleCategoryChanged(category, (bool)(e.Value ?? false)))">
                    <label class="form-check-label" for="cat-@category">
                        <span class="badge bg-info">@category</span>
                    </label>
                </div>
            }
        </div>
    </div>
</div>

@code {
    [Parameter] public List<string> Categories { get; set; } = new();
    [Parameter] public HashSet<string> SelectedCategories { get; set; } = new();
    [Parameter] public EventCallback<(string Category, bool IsSelected)> OnCategoryFilterChanged { get; set; }

    private async Task HandleCategoryChanged(string category, bool isSelected)
    {
        await OnCategoryFilterChanged.InvokeAsync((category, isSelected));
    }
}
